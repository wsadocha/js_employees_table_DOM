// write code here
var e=document.querySelector("table"),t=e.tBodies[0],n=document.createElement("form"),r=document.querySelector("body"),a=document.querySelectorAll("thead tr th"),l=[],o=!0,c=!1,i=void 0;try{for(var m,u=a[Symbol.iterator]();!(o=(m=u.next()).done);o=!0){var s=m.value;l.push(s.textContent)}}catch(e){c=!0,i=e}finally{try{o||null==u.return||u.return()}finally{if(c)throw i}}// CREATE FORM INPUTS
for(var d=0;d<l.length;d++){var p=document.createElement("input"),v=document.createElement("label");// CREATE SELECT WITH OPTIONS
if("Office"===l[d]){for(var f=document.createElement("select"),y=document.createElement("label"),h=["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"],g=0;g<h.length;g++){var E=document.createElement("option");E.innerText=E.value=h[g],f.name=f.dataset.qa=l[d].toLowerCase(),f.append(E)}y.innerText=l[d]+":",y.append(f),n.append(y);continue}// END SELECT
p.name=p.dataset.qa=l[d].toLowerCase(),"age"===p.name||"salary"===p.name?p.type="number":p.type="text",p.required=!0,v.innerText=l[d]+":",v.append(p),n.className="new-employee-form",n.append(v)}// END FORM INPUTS
// CREATE BUTTON
var x=document.createElement("button");function b(e){return"$"+Number(e).toLocaleString("en-US")}x.type="submit",x.innerText="Save to table",n.append(x),// END BUTTON
r.firstElementChild.after(n),// END FORM
e.addEventListener("click",function(e){"THEAD"===e.target.parentElement.parentElement.tagName&&function(e){for(var n=e.innerText,r=document.querySelectorAll("thead tr th"),a=0;a<r.length;a++)r[a].innerText===n&&(u=a);for(var l=[],o=0;o<t.rows.length;o++)l.push(t.rows[o].cells[u].innerText);"Salary"===n||"Age"===n?l.sort(function(t,n){var r=+t.replace(/[$,]/ig,""),a=+n.replace(/[$,]/ig,"");return"sorted"===e.className?a-r:r-a}):l.sort(function(t,n){return"sorted"===e.className?n.localeCompare(t):t.localeCompare(n)});var c=!0,i=!1,m=void 0;try{// SORT ROWS IN TABLE
for(var u,s,d=l[Symbol.iterator]();!(c=(s=d.next()).done);c=!0)for(var p=s.value,v=0;v<t.children.length;v++)if(p===t.rows[v].cells[u].innerHTML){var f=t.rows[v];t.append(f)}}catch(e){i=!0,m=e}finally{try{c||null==d.return||d.return()}finally{if(i)throw m}}// ADDING AND DELETING CLASS OF TH's
"sorted"!==e.className?e.className="sorted":e.className="";var y=e.parentElement.children,h=!0,g=!1,E=void 0;try{for(var x,b=y[Symbol.iterator]();!(h=(x=b.next()).done);h=!0){var N=x.value;N!==e&&(N.className="")}}catch(e){g=!0,E=e}finally{try{h||null==b.return||b.return()}finally{if(g)throw E}}}(e.target),"TD"===e.target.tagName&&function(e){var t=e.parentElement.children,n=!0,r=!1,a=void 0;try{for(var l,o=t[Symbol.iterator]();!(n=(l=o.next()).done);n=!0){var c=l.value;"active"===c.className&&(c.className="")}}catch(e){r=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}e.className="active"}(e.target.parentElement)}),n.addEventListener("submit",function(e){var a,l;if(e.preventDefault(),"DIV"===r.lastElementChild.tagName&&r.removeChild(r.lastElementChild),a=document.createElement("div"),l=document.createElement("p"),(setTimeout(function(){return r.removeChild(a)},3e3),a.className="notification",l.className="title",n[0].value.length<4)?(a.className+=" error",a.textContent="Name should have minimum 4 characters",l.textContent="Wrong name value",a.prepend(l),r.append(a),!1):n[3].value<18||n[3].value>90?(a.className+=" error",a.textContent="Age should be between 18 and 90 years old",l.textContent="Wrong age value",a.prepend(l),r.append(a),!1):(a.className+=" success",a.textContent="New employee has been created",l.textContent="Good job!",a.prepend(l),r.append(a),!0)){for(var o=t.insertRow(-1),c=[],i=0;i<n.length-1;i++){var m=n[i].value;"salary"===n[i].name&&(m=b(m)),c.push(m)}for(var u=0;u<n.length-1;u++)o.insertCell(u).textContent=c[u];n.reset()}}),t.addEventListener("dblclick",function(e){var t,n,r,a,l,o;n=(t=e.target).innerText,r=document.createElement("input"),a=t.parentElement.children[3],l=t.parentElement.children[4],o=function(){"salary"===r.name?t.innerText=b(r.value):t.innerText=r.value.trim()||n},t.innerText="",r.value=n,r.className="cell-input",t===a&&(r.type="number"),t===l&&(r.value=parseFloat(n.replace(/[$,]/g,"")),r.type="number",r.name="salary"),t.append(r),r.focus(),r.addEventListener("blur",function(){o()}),r.addEventListener("keypress",function(e){"Enter"===e.key&&o()})});//# sourceMappingURL=index.3a70d5a9.js.map

//# sourceMappingURL=index.3a70d5a9.js.map
